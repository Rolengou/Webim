(this.webpackJsonpwebim=this.webpackJsonpwebim||[]).push([[0],{331:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(14),i=a.n(s),o=a(6),c=a(66),l=a(176),m=a.n(l),u=a(378),d=a(186),p=a(335),h=a(38),j=a(377),b=a(102),g=a(104),x=a(171),O=a(95),f=a.n(O),v=a(21),w=a(383),N=a(13),k=Object(h.a)((function(e){return{container:{maxWidth:"500px",boxShadow:"0px 0px 8px 0px rgba(34, 60, 80, 0.2)"},typography:{marginTop:"10px"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),marginBottom:"20px"},icon:{marginTop:"20px",backgroundColor:"green"},wrongCred:{display:"block",color:"red"}}})),S=g.a().shape({username:g.b().required("\u041f\u043e\u043b\u0435 \u041b\u043e\u0433\u0438\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:g.b().required("\u041f\u043e\u043b\u0435 \u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),y=function(){var e,t,a=k(),r=Object(b.b)({resolver:Object(x.a)(S)}),s=r.register,i=r.handleSubmit,l=r.errors,h=Object(n.useState)(""),g=Object(o.a)(h,2),O=g[0],y=g[1],C=Object(n.useState)(""),I=Object(o.a)(C,2),T=I[0],W=I[1],q=Object(n.useState)(!1),_=Object(o.a)(q,2),B=_[0],D=_[1],L=Object(n.useState)(!1),R=Object(o.a)(L,2),z=R[0],A=R[1];return B||localStorage.getItem("token")?Object(N.jsx)(v.a,{to:"/users"}):Object(N.jsxs)(j.a,{className:a.container,component:"main",maxWidth:"xs",children:[Object(N.jsx)(u.a,{}),Object(N.jsxs)("div",{className:a.paper,children:[Object(N.jsx)(w.a,{className:a.icon,children:Object(N.jsx)(m.a,{})}),Object(N.jsx)(p.a,{className:a.typography,component:"h1",variant:"h5",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 IT"}),Object(N.jsxs)("form",{className:a.form,noValidate:!0,onSubmit:i((function(e,t){t.preventDefault(),f.a.post("https://emphasoft-test-assignment.herokuapp.com/api-token-auth/",{username:O,password:T}).then((function(e){localStorage.setItem("token",e.data.token),200===e.request.status&&D(!0)})).catch((function(e){console.log(e.message),A(!0)}))})),children:[Object(N.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,inputRef:s,id:"username",label:"\u041b\u043e\u0433\u0438\u043d",name:"username",autoFocus:!0,onChange:function(e){y(e.target.value)},value:O,error:!!l.username,helperText:null===l||void 0===l||null===(e=l.username)||void 0===e?void 0:e.message,autoComplete:"username"}),Object(N.jsx)(d.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,inputRef:s,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){W(e.target.value)},value:T,error:!!l.password,helperText:null===l||void 0===l||null===(t=l.password)||void 0===t?void 0:t.message}),Object(N.jsx)(c.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"\u0412\u0445\u043e\u0434"})]}),!0===z&&Object(N.jsx)("p",{className:a.wrongCred,children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},C=a(177),I=a(382),T=a(381),W=a(67),q=Object(h.a)({tableContainer:{maxWidth:"1000px",margin:"0 auto",height:"800px"},menuButton:{marginRight:"0"},title:{flexGrow:1,marginLeft:"-20px"}}),_=function(){var e=q(),t=Object(n.useState)([]),a=Object(o.a)(t,2),r=a[0],s=a[1],i=Object(n.useState)(!1),l=Object(o.a)(i,2),m=l[0],u=l[1];Object(n.useEffect)((function(){var e={headers:{Authorization:"Token "+localStorage.getItem("token")}};f.a.get("https://emphasoft-test-assignment.herokuapp.com/api/v1/users/",e).then((function(e){s(e.data)}))}),[]);if(m)return Object(N.jsx)(v.a,{to:"/"});return Object(N.jsxs)("div",{className:e.tableContainer,children:[Object(N.jsx)(I.a,{position:"static",children:Object(N.jsxs)(T.a,{children:[Object(N.jsx)(W.a,{edge:"start",className:e.menuButton,color:"inherit","aria-label":"menu"}),Object(N.jsx)(p.a,{variant:"h6",className:e.title,children:"Awesome Table!"}),Object(N.jsx)(c.a,{onClick:function(e){e.preventDefault(),localStorage.removeItem("token"),u(!0)},color:"inherit",children:"Logout"})]})}),Object(N.jsx)(C.a,{rows:r,columns:[{field:"id",headerName:"ID",width:70},{field:"username",headerName:"Username",width:140},{field:"first_name",headerName:"Firstname",width:140},{field:"last_name",headerName:"Lastname",width:140},{field:"is_active",headerName:"Is active",width:140},{field:"last_login",headerName:"Last login",width:140},{field:"is_superuser",headerName:"Is superuser",width:140}],pageSize:25})]})},B=a(91);var D=function(){return Object(N.jsx)("div",{children:Object(N.jsxs)(B.a,{children:[Object(N.jsx)(v.b,{exact:!0,path:"/",component:y}),Object(N.jsx)(v.b,{path:"/users",component:_})]})})};i.a.render(Object(N.jsx)(r.a.StrictMode,{children:Object(N.jsx)(D,{})}),document.getElementById("root"))}},[[331,1,2]]]);
//# sourceMappingURL=main.cf24dfa4.chunk.js.map
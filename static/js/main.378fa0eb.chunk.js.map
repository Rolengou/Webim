{"version":3,"sources":["components/Form.js","components/Users.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","container","maxWidth","boxShadow","typography","marginTop","paper","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","marginBottom","schema","yup","shape","username","required","password","matches","SignIn","classes","useForm","resolver","yupResolver","register","handleSubmit","errors","useState","setUsername","setPassword","redirect","setRedirect","to","Container","className","component","CssBaseline","Typography","variant","noValidate","onSubmit","data","e","preventDefault","axios","post","baseUrl","then","res","localStorage","setItem","token","request","status","console","log","TextField","fullWidth","inputRef","id","label","name","autoComplete","autoFocus","onChange","target","value","error","helperText","message","type","Button","color","tableContainer","table","tableLayout","button","left","transform","idButton","paddingRight","idTableCell","padding","Users","setData","TableContainer","Paper","onClick","config","headers","Authorization","getItem","get","Table","size","aria-label","TableHead","TableRow","TableCell","dataCopy","sort","a","b","nameA","toLowerCase","nameB","align","TableBody","map","scope","App","basename","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.378fa0eb.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {useForm} from \"react-hook-form\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport axios from \"axios\";\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        maxWidth: \"500px\",\r\n        boxShadow: '0px 0px 8px 0px rgba(34, 60, 80, 0.2)',\r\n    },\r\n    typography: {\r\n        marginTop: \"20px\"\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n        marginBottom: \"40px\"\r\n    },\r\n}));\r\n\r\nconst schema = yup.object().shape({\r\n    username: yup\r\n        .string()\r\n        .required(\"Поле username обязательно для заполнения\"),\r\n    password: yup\r\n        .string()\r\n        .required(\"Поле password обязательно для заполнения\")\r\n        .matches(/^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z])(?!.*\\s).*$/,\r\n            \"Пароль должен состоять из цифр и латинских букв верхнего и нижнего регистра\"),\r\n})\r\n\r\nexport const SignIn = () => {\r\n    const classes = useStyles();\r\n    const {register, handleSubmit, errors} = useForm({\r\n        resolver: yupResolver(schema)\r\n    })\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [redirect, setRedirect] = useState(false)\r\n    const baseUrl = 'https://emphasoft-test-assignment.herokuapp.com'\r\n\r\n    const onChangeUsername = (e) => {\r\n        setUsername(e.target.value)\r\n    }\r\n\r\n    const onChangePassword = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const onSubmit = (data, e) => {\r\n        e.preventDefault()\r\n        axios\r\n            .post(baseUrl + '/api-token-auth/', {username: username, password: password})\r\n            .then((res) => {\r\n                localStorage.setItem('token', res.data.token)\r\n                if (res.request.status === 200) {\r\n                    setRedirect(true)\r\n                }\r\n            console.log(res)\r\n                console.log(res.data.token)\r\n        })\r\n    }\r\n\r\n    if (redirect) {\r\n        return <Redirect to='/users' />\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.container} component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline/>\r\n            <div className={classes.paper}>\r\n                <Typography className={classes.typography} component=\"h1\" variant=\"h5\">\r\n                    Sign in\r\n                </Typography>\r\n                <form className={classes.form} noValidate\r\n                      onSubmit={handleSubmit(onSubmit)}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        inputRef={register}\r\n                        id=\"username\"\r\n                        label=\"Username\"\r\n                        name=\"username\"\r\n                        autoComplete=\"email\"\r\n                        autoFocus\r\n                        onChange={onChangeUsername}\r\n                        value={username}\r\n                        error={!!errors.username}\r\n                        helperText={errors?.username?.message}\r\n\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        inputRef={register}\r\n                        name=\"password\"\r\n                        label=\"Password\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        onChange={onChangePassword}\r\n                        value={password}\r\n                        error={!!errors.password}\r\n                        helperText={errors?.password?.message}\r\n                    />\r\n\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                    >\r\n                        Sign In\r\n                    </Button>\r\n                </form>\r\n            </div>\r\n        </Container>\r\n    );\r\n}","import * as React from 'react';\r\nimport axios from \"axios\";\r\nimport {useState} from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nconst useStyles = makeStyles({\r\n    tableContainer: {\r\n        maxWidth: \"500px\",\r\n        margin: \"0 auto\"\r\n    },\r\n    table: {\r\n        width: \"auto\",\r\n        tableLayout: \"auto\",\r\n        margin: \"0 auto\",\r\n        boxShadow: '0px 0px 8px 0px rgba(34, 60, 80, 0.2)',\r\n        marginBottom: \"30px\",\r\n\r\n    },\r\n    button: {\r\n        left: \"50%\",\r\n        transform: \"translateX(-50%)\",\r\n        margin: \"20px 0px\"\r\n    },\r\n    idButton: {\r\n        paddingRight: \"15px\"\r\n    },\r\n    idTableCell: {\r\n        padding: \"0\"\r\n    }\r\n});\r\n\r\nexport const Users = () => {\r\n    const classes = useStyles();\r\n    const [data, setData] = useState([])\r\n    const baseUrl = 'https://emphasoft-test-assignment.herokuapp.com'\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault()\r\n        const config = {\r\n            headers: {\r\n                Authorization: 'Token ' + localStorage.getItem('token')\r\n            }\r\n        }\r\n        axios\r\n            .get(baseUrl + '/api/v1/users/', config)\r\n            .then((res) => {\r\n                setData(res.data)\r\n                console.log(res.data)\r\n            })\r\n    }\r\n\r\n    const sortId = () => {\r\n        const dataCopy = [...data]\r\n        dataCopy.sort(function (a,b) {\r\n            return a.id - b.id\r\n        })\r\n        setData(dataCopy)\r\n    }\r\n\r\n    const sortName = () => {\r\n        const dataCopy = [...data]\r\n        dataCopy.sort(function (a,b) {\r\n            let nameA = a.username.toLowerCase()\r\n            let nameB = b.username.toLowerCase()\r\n            if (nameA < nameB) return -1\r\n            if (nameA > nameB) return 1\r\n            return 0\r\n        })\r\n        setData(dataCopy)\r\n    }\r\n\r\n    return (\r\n            <TableContainer className={classes.tableContainer} component={Paper}>\r\n                <Button className={classes.button} variant=\"contained\" color=\"primary\" onClick={handleSubmit}>\r\n                   Get users\r\n                </Button>\r\n                <Table className={classes.table}  size=\"small\" aria-label=\"a dense table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell className={classes.idTableCell} onClick={sortId}><Button className={classes.idButton} color=\"primary\">ID</Button></TableCell>\r\n                            <TableCell onClick={sortName} align=\"left\"><Button color=\"primary\">Username</Button></TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {data.map((e) => (\r\n                            <TableRow key={e.id}>\r\n                                <TableCell component=\"th\" scope=\"row\">\r\n                                    {e.id}\r\n                                </TableCell>\r\n                                <TableCell align=\"left\">{e.username}</TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                    </TableBody>\r\n                </Table>\r\n            </TableContainer>\r\n    );\r\n}","import {SignIn} from \"./components/Form\";\r\nimport {Users} from \"./components/Users\";\r\nimport {BrowserRouter, Route} from \"react-router-dom\";\r\n\r\n\r\nfunction App() {\r\n  return (\r\n      <div>\r\n          <BrowserRouter basename=\"/webim\">\r\n            <Route exact path='/' component={SignIn} />\r\n            <Route path='/users' component={Users} />\r\n          </BrowserRouter>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}
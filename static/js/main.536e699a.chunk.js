(this.webpackJsonpwebim=this.webpackJsonpwebim||[]).push([[0],{266:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),s=a.n(o),c=a(14),i=a(318),l=a(125),u=a.n(l),d=a(308),b=a(317),m=a(309),p=a(303),j=a(306),h=a(69),x=a(70),g=a(120),O=a(64),f=a.n(O),v=a(12),w=a(319),C=a(6),k=Object(p.a)((function(e){return{container:{maxWidth:"500px",boxShadow:"0px 0px 8px 0px rgba(34, 60, 80, 0.2)"},typography:{marginTop:"10px"},paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2),marginBottom:"10px"},icon:{marginTop:"20px",backgroundColor:"green"},wrongCred:{display:"block",color:"red"}}})),S=x.a().shape({username:x.b().required("\u041f\u043e\u043b\u0435 \u041b\u043e\u0433\u0438\u043d \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"),password:x.b().required("\u041f\u043e\u043b\u0435 \u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f")}),y=function(){var e,t,a=k(),r=Object(h.b)({resolver:Object(g.a)(S)}),o=r.register,s=r.handleSubmit,l=r.errors,p=Object(n.useState)(""),x=Object(c.a)(p,2),O=x[0],y=x[1],N=Object(n.useState)(""),T=Object(c.a)(N,2),I=T[0],W=T[1],q=Object(n.useState)(!1),B=Object(c.a)(q,2),D=B[0],L=B[1],R=Object(n.useState)(!1),z=Object(c.a)(R,2),J=z[0],A=z[1];return D||localStorage.getItem("token")?Object(C.jsx)(v.a,{to:"/users"}):Object(C.jsxs)(j.a,{className:a.container,component:"main",maxWidth:"xs",children:[Object(C.jsx)(d.a,{}),Object(C.jsxs)("div",{className:a.paper,children:[Object(C.jsx)(w.a,{className:a.icon,children:Object(C.jsx)(u.a,{})}),Object(C.jsx)(m.a,{className:a.typography,component:"h1",variant:"h5",children:"\u0412\u043e\u0439\u0442\u0438 \u0432 IT"}),Object(C.jsxs)("form",{className:a.form,noValidate:!0,onSubmit:s((function(e,t){t.preventDefault(),f.a.post("https://emphasoft-test-assignment.herokuapp.com/api-token-auth/",{username:O,password:I}).then((function(e){localStorage.setItem("token",e.data.token),200===e.request.status&&L(!0)})).catch((function(e){console.log(e.message),A(!0)}))})),children:[Object(C.jsx)(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,inputRef:o,id:"username",label:"\u041b\u043e\u0433\u0438\u043d",name:"username",autoFocus:!0,onChange:function(e){y(e.target.value)},value:O,error:!!l.username,helperText:null===l||void 0===l||null===(e=l.username)||void 0===e?void 0:e.message,autoComplete:"username"}),Object(C.jsx)(b.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,inputRef:o,name:"password",label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){W(e.target.value)},value:I,error:!!l.password,helperText:null===l||void 0===l||null===(t=l.password)||void 0===t?void 0:t.message}),Object(C.jsx)(i.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"\u0412\u0445\u043e\u0434"})]}),!0===J&&Object(C.jsx)("p",{className:a.wrongCred,children:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},N=a(8),T=a(312),I=a(316),W=a(315),q=a(311),B=a(313),D=a(314),L=a(310),R=a(38),z=Object(p.a)({tableContainer:{maxWidth:"500px",margin:"0 auto"},table:{width:"auto",tableLayout:"auto",margin:"0 auto",boxShadow:"0px 0px 8px 0px rgba(34, 60, 80, 0.2)",marginBottom:"30px"},button:{left:"50%",transform:"translateX(-50%)",margin:"20px 0px"},idButton:{paddingRight:"15px"},idTableCell:{padding:"0"}}),J=function(){var e=z(),t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(""),l=Object(c.a)(s,2),u=l[0],d=l[1],m=Object(n.useState)(!1),p=Object(c.a)(m,2),j=p[0],h=p[1];return j?Object(C.jsx)(v.a,{to:"/"}):Object(C.jsxs)(q.a,{className:e.tableContainer,component:L.a,children:[Object(C.jsx)(i.a,{className:e.button,variant:"contained",color:"primary",onClick:function(e){e.preventDefault();var t={headers:{Authorization:"Token "+localStorage.getItem("token")}};f.a.get("https://emphasoft-test-assignment.herokuapp.com/api/v1/users/",t).then((function(e){o(e.data)}))},children:"Get users"}),Object(C.jsxs)(T.a,{className:e.table,size:"small","aria-label":"a dense table",children:[Object(C.jsx)(B.a,{children:Object(C.jsxs)(D.a,{children:[Object(C.jsx)(W.a,{className:e.idTableCell,onClick:function(){var e=Object(N.a)(r);e.sort((function(e,t){return e.id-t.id})),o(e)},children:Object(C.jsx)(i.a,{className:e.idButton,color:"primary",children:"ID"})}),Object(C.jsx)(W.a,{align:"left",children:Object(C.jsx)(b.a,{onChange:function(e){d(e.target.value)},id:"outlined-basic",label:"Search by name...",variant:"outlined"})})]})}),Object(C.jsx)(I.a,{children:r.filter((function(e){return""===u||e.username.toLowerCase().includes(u.toLowerCase())?e:void 0})).map((function(e){return Object(C.jsxs)(D.a,{children:[Object(C.jsx)(W.a,{component:"th",scope:"row",children:e.id}),Object(C.jsx)(W.a,{align:"left",children:e.username})]},e.id)}))})]}),Object(C.jsx)(R.b,{to:"/",children:Object(C.jsx)(i.a,{onClick:function(e){e.preventDefault(),localStorage.removeItem("token"),h(!0)},fullWidth:!0,variant:"contained",color:"primary",children:"\u0412\u044b\u0439\u0442\u0438"})})]})};var A=function(){return Object(C.jsx)("div",{children:Object(C.jsxs)(R.a,{basename:"/webim",children:[Object(C.jsx)(v.b,{exact:!0,path:"/",component:y}),Object(C.jsx)(v.b,{path:"/users",component:J})]})})};s.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(A,{})}),document.getElementById("root"))}},[[266,1,2]]]);
//# sourceMappingURL=main.536e699a.chunk.js.map
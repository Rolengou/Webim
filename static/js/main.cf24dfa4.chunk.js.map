{"version":3,"sources":["components/Form.js","components/Users.js","App.js","index.js"],"names":["useStyles","makeStyles","theme","container","maxWidth","boxShadow","typography","marginTop","paper","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","marginBottom","icon","wrongCred","color","schema","yup","shape","username","required","password","SignIn","classes","useForm","resolver","yupResolver","register","handleSubmit","errors","useState","setUsername","setPassword","redirect","setRedirect","wrong","setWrong","localStorage","getItem","to","Container","className","component","CssBaseline","Avatar","Typography","variant","noValidate","onSubmit","data","e","preventDefault","axios","post","baseUrl","then","res","setItem","token","request","status","catch","err","console","log","message","TextField","fullWidth","inputRef","id","label","name","autoFocus","onChange","target","value","error","helperText","autoComplete","type","Button","tableContainer","height","menuButton","marginRight","title","flexGrow","marginLeft","Users","setData","useEffect","config","headers","Authorization","get","AppBar","position","Toolbar","IconButton","edge","aria-label","onClick","removeItem","rows","columns","field","headerName","pageSize","App","exact","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.cf24dfa4.chunk.js","sourcesContent":["import React, {useState} from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {makeStyles} from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\nimport {useForm} from \"react-hook-form\";\r\nimport * as yup from \"yup\";\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport axios from \"axios\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {Avatar} from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    container: {\r\n        maxWidth: \"500px\",\r\n        boxShadow: '0px 0px 8px 0px rgba(34, 60, 80, 0.2)',\r\n    },\r\n    typography: {\r\n        marginTop: \"10px\"\r\n    },\r\n    paper: {\r\n        marginTop: theme.spacing(8),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n    },\r\n    avatar: {\r\n        margin: theme.spacing(1),\r\n        backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n        width: '100%',\r\n        marginTop: theme.spacing(1),\r\n\r\n    },\r\n    submit: {\r\n        margin: theme.spacing(3, 0, 2),\r\n        marginBottom: \"20px\"\r\n    },\r\n    icon: {\r\n        marginTop: \"20px\",\r\n        backgroundColor: \"green\"\r\n    },\r\n    wrongCred: {\r\n        display: \"block\",\r\n        color: \"red\"\r\n    }\r\n}));\r\n\r\nconst schema = yup.object().shape({\r\n    username: yup\r\n        .string()\r\n        .required(\"Поле Логин обязательно для заполнения\"),\r\n    password: yup\r\n        .string()\r\n        .required(\"Поле Пароль обязательно для заполнения\")\r\n})\r\n\r\nexport const SignIn = () => {\r\n    const classes = useStyles();\r\n    const {register, handleSubmit, errors} = useForm({\r\n        resolver: yupResolver(schema)\r\n    })\r\n    const [username, setUsername] = useState('')\r\n    const [password, setPassword] = useState('')\r\n    const [redirect, setRedirect] = useState(false)\r\n    const [wrong, setWrong] = useState(false)\r\n    const baseUrl = 'https://emphasoft-test-assignment.herokuapp.com'\r\n\r\n    const onChangeUsername = (e) => {\r\n        setUsername(e.target.value)\r\n    }\r\n\r\n    const onChangePassword = (e) => {\r\n        setPassword(e.target.value)\r\n    }\r\n\r\n    const onSubmit = (data, e) => {\r\n        e.preventDefault()\r\n        axios\r\n            .post(baseUrl + '/api-token-auth/', {username, password})\r\n            .then((res) => {\r\n                localStorage.setItem('token', res.data.token)\r\n\r\n                if (res.request.status === 200) {\r\n                    setRedirect(true)\r\n                }\r\n            })\r\n            .catch((err) => {\r\n                console.log(err.message)\r\n                setWrong(true)\r\n        })\r\n    }\r\n\r\n    if (redirect) {\r\n        return <Redirect to='/users' />\r\n    }\r\n\r\n    if (localStorage.getItem('token')) {\r\n        return <Redirect to='/users' />\r\n    }\r\n\r\n\r\n    return (\r\n        <Container className={classes.container} component=\"main\" maxWidth=\"xs\">\r\n            <CssBaseline/>\r\n            <div className={classes.paper}>\r\n                <Avatar className={classes.icon}>\r\n                    <LockIcon />\r\n                </Avatar>\r\n                <Typography className={classes.typography} component=\"h1\" variant=\"h5\">\r\n                    Войти в IT\r\n                </Typography>\r\n                <form className={classes.form} noValidate\r\n                      onSubmit={handleSubmit(onSubmit)}>\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        inputRef={register}\r\n                        id=\"username\"\r\n                        label=\"Логин\"\r\n                        name=\"username\"\r\n                        autoFocus\r\n                        onChange={onChangeUsername}\r\n                        value={username}\r\n                        error={!!errors.username}\r\n                        helperText={errors?.username?.message}\r\n                        autoComplete=\"username\"\r\n                    />\r\n                    <TextField\r\n                        variant=\"outlined\"\r\n                        margin=\"normal\"\r\n                        required\r\n                        fullWidth\r\n                        inputRef={register}\r\n                        name=\"password\"\r\n                        label=\"Пароль\"\r\n                        type=\"password\"\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        onChange={onChangePassword}\r\n                        value={password}\r\n                        error={!!errors.password}\r\n                        helperText={errors?.password?.message}\r\n                    />\r\n                    <Button\r\n                        type=\"submit\"\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.submit}\r\n                    >Вход\r\n                    </Button>\r\n                </form>\r\n                {wrong === true &&\r\n                <p className={classes.wrongCred}>Неверный логин или пароль</p>}\r\n            </div>\r\n        </Container>\r\n    );\r\n}","import axios from \"axios\";\r\nimport React, {useEffect, useState} from \"react\";\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {DataGrid} from \"@material-ui/data-grid\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport {AppBar, IconButton, Toolbar} from \"@material-ui/core\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles({\r\n    tableContainer: {\r\n        maxWidth: \"1000px\",\r\n        margin: \"0 auto\",\r\n        height: \"800px\"\r\n    },\r\n    menuButton: {\r\n        marginRight: \"0\",\r\n    },\r\n    title: {\r\n        flexGrow: 1,\r\n        marginLeft: \"-20px\"\r\n    },\r\n});\r\n\r\nexport const Users = () => {\r\n    const classes = useStyles();\r\n    const [data, setData] = useState([])\r\n    const [redirect, setRedirect] = useState(false)\r\n    const baseUrl = 'https://emphasoft-test-assignment.herokuapp.com'\r\n\r\n    useEffect(() => {\r\n        const config = {\r\n            headers: {\r\n                Authorization: 'Token ' + localStorage.getItem('token')\r\n            }\r\n        }\r\n        axios\r\n            .get(baseUrl + '/api/v1/users/', config)\r\n            .then((res) => {\r\n                setData(res.data)\r\n            })\r\n    }, [])\r\n\r\n    const handleExit = (e) => {\r\n        e.preventDefault()\r\n        localStorage.removeItem('token')\r\n        setRedirect(true)\r\n    }\r\n\r\n    if (redirect) {\r\n        return <Redirect to='/' />\r\n    }\r\n\r\n    const columns = [\r\n        {field: 'id', headerName: 'ID', width: 70},\r\n        {field: 'username', headerName: 'Username', width: 140},\r\n        {field: 'first_name', headerName: 'Firstname', width: 140},\r\n        {field: 'last_name', headerName: 'Lastname', width: 140},\r\n        {field: 'is_active', headerName: 'Is active', width: 140},\r\n        {field: 'last_login', headerName: 'Last login', width: 140},\r\n        {field: 'is_superuser', headerName: 'Is superuser', width: 140}\r\n    ]\r\n\r\n    return (\r\n        <div className={classes.tableContainer}>\r\n            <AppBar position=\"static\">\r\n                <Toolbar>\r\n                    <IconButton edge=\"start\"\r\n                                className={classes.menuButton}\r\n                                color=\"inherit\"\r\n                                aria-label=\"menu\">\r\n                    </IconButton>\r\n                    <Typography variant=\"h6\" className={classes.title}>\r\n                        Awesome Table!\r\n                    </Typography>\r\n                    <Button onClick={handleExit} color=\"inherit\">Logout</Button>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <DataGrid  rows={data} columns={columns} pageSize={25}  />\r\n        </div>\r\n    );\r\n}\r\n","import {SignIn} from \"./components/Form\";\r\nimport {Users} from \"./components/Users\";\r\nimport {HashRouter, Route} from \"react-router-dom\";\r\n\r\n\r\nfunction App() {\r\n  return (\r\n      <div>\r\n          <HashRouter>\r\n            <Route exact path='/' component={SignIn} />\r\n            <Route path='/users' component={Users} />\r\n          </HashRouter>\r\n      </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}